<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body style="background-color:gray">
       <button id="myBtn">Try it</button>

    <script>
var svg = document.createElementNS("http://www.w3.org/2000/svg", 'svg');
        

        function drawLineC(x1,y1,x2,y2){
            let line = document.createElementNS("http://www.w3.org/2000/svg", 'line');
            line.setAttribute("x1", x1 );
            line.setAttribute("y1", y1 );
            line.setAttribute("x2", x2 );
            line.setAttribute("y2", y2 );
            line.setAttribute("stroke", "black");
            line.setAttribute("stroke-linecap","round");
            line.setAttribute("stroke-width", 2  );
            return line;
        }
        function drawLineDeg(x1,y1,length,angle){
            let line = document.createElementNS("http://www.w3.org/2000/svg", 'line');
            line.setAttribute("x1", x1 );
            line.setAttribute("y1", y1 );
            line.setAttribute("x2", x1 + Math.cos(Math.PI / 180 * angle) * length);
            line.setAttribute("y2", y1 - Math.sin(Math.PI / 180 * angle) * length);
            line.setAttribute("stroke", "black");
            line.setAttribute("stroke-linecap","round");
            line.setAttribute("stroke-width", 2  );
            return line;
        }
        function drawLineDeg(x1,y1,length,angle,color){
            let line = document.createElementNS("http://www.w3.org/2000/svg", 'line');
            line.setAttribute("x1", x1 );
            line.setAttribute("y1", y1 );
            line.setAttribute("x2", x1 + Math.cos(Math.PI / 180 * angle) * length);
            line.setAttribute("y2", y1 - Math.sin(Math.PI / 180 * angle) * length);
            line.setAttribute("stroke", color);
            line.setAttribute("stroke-linecap","round");
            line.setAttribute("stroke-width", 2  );
            return line;
        }
        
        function drawLineRad(x1,y1,length,angle){
            let line = document.createElementNS("http://www.w3.org/2000/svg", 'line');
            line.setAttribute("x1", x1 );
            line.setAttribute("y1", y1 );
            line.setAttribute("x2", x1 + Math.cos(angle) * length);
            line.setAttribute("y2", y1 - Math.sin(angle) * length);
            line.setAttribute("stroke", "black");
            line.setAttribute("stroke-width", 2  );
            line.setAttribute("stroke-linecap","round");
            return line;
        }
        
        function drawAxis(){
            let xMin = -10;
            let xMax = 100;
            let yMin = -10;
            let yMax = 100;
            let x_axis = drawLineC(xMin,0,xMax,0);
            let y_axis = drawLineC(0,-yMin,0,-yMax);
            svg.appendChild(x_axis);    
            svg.appendChild(y_axis);
        }
        
        drawAxis();
        let lines = [];
        lines =  drawLineDeg(0,0,100,45);
        //line.setAttribute("fill", "#444444");
        svg.appendChild(drawLineDeg(0,0,1000,45));
        svg.appendChild(drawLineDeg(0,0,1000,46));
        svg.appendChild(drawLineDeg(0,0,1000,44));

        svg.setAttribute("viewBox", "-256 -256 512 512");
        document.body.appendChild(svg);
        function draw(){
            for(i=0; i < 25500; i++){
            svg.appendChild(drawLineDeg(0,0,Math.random()*200,Math.random()*360,"rgb(" + (Math.random()*255).toString() + "," +  (Math.random()*255).toString() + "," + (Math.random()*255).toString() + ")"));
            }
        }
        //draw();
        
        document.getElementById("myBtn").addEventListener("click", draw);
    </script>
</body>
</html>